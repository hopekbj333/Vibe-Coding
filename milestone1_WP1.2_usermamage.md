# 📦 WP 1.2: 사용자 관리 및 모드 (User Management)

로그인과 대상자(아동)를 관리하는 기능입니다.

## 시나리오

### S 1.2.1: 인증 시스템 구현 ✅

**📋 기술적 요구사항:**
- 이메일/비밀번호 로그인 ✅
- 소셜 로그인 (Google, Apple, 카카오) ✅
- 자동 로그인 및 토큰 갱신 ✅

**💡 비개발자를 위한 설명:**

**뭘 했나요?**
사용자가 앱에 로그인할 수 있도록 만든 시스템입니다. 예를 들어 이메일과 비밀번호로 로그인하거나, Google이나 Apple 계정으로 간편하게 로그인할 수 있게 했습니다.

**구체적으로:**
- **이메일/비밀번호 로그인**: 사용자가 이메일과 비밀번호를 입력하여 로그인할 수 있습니다. 회원가입도 할 수 있습니다.
- **소셜 로그인**: Google이나 Apple 계정으로 간편하게 로그인할 수 있습니다. 카카오 로그인은 향후 추가 예정입니다.
- **자동 로그인**: 한 번 로그인하면 앱을 다시 열었을 때 자동으로 로그인 상태가 유지됩니다. 비밀번호를 다시 입력할 필요가 없습니다.
- **토큰 갱신**: 로그인 상태를 유지하기 위한 보안 토큰을 자동으로 갱신합니다.

**왜 필요한가요?**
아동의 검사 결과나 개인정보는 보호되어야 합니다. 로그인 시스템을 통해 각 사용자(학부모, 교사)만 자신의 아동 데이터에 접근할 수 있도록 보안을 강화했습니다. 또한 자동 로그인 기능으로 사용자가 매번 비밀번호를 입력하지 않아도 되어 편리합니다.

**비유로 설명하면:**
집에 들어갈 때 문을 열기 위해 열쇠가 필요한 것과 같습니다. 로그인은 집 문을 여는 열쇠 역할을 하며, 자동 로그인은 한 번 열쇠를 사용하면 다음에는 자동으로 문이 열리는 것과 같습니다.

- [x] **S 1.2.2**: 부모/관리자 모드 ✅
    - 아동 프로필 등록 (이름, 생년월일, 프로필 이미지) ✅
    - 아동 프로필 수정/삭제 ✅
    - 다중 아동 관리 (형제/자매) ✅

**💡 비개발자를 위한 설명:**

**뭘 했나요?**
부모나 교사가 아동의 프로필을 관리할 수 있도록 만든 기능입니다. 여러 아동(형제/자매 등)의 정보를 등록하고 관리할 수 있습니다.

**구체적으로:**
- **아동 프로필 등록**: 아동의 이름, 생년월일, 성별(선택사항)을 입력하여 프로필을 만들 수 있습니다. 프로필 이미지는 향후 추가 예정입니다.
- **아동 프로필 수정/삭제**: 등록한 아동 프로필의 정보를 수정하거나 삭제할 수 있습니다.
- **다중 아동 관리**: 여러 아동의 프로필을 등록하고 관리할 수 있어, 형제나 자매가 있는 경우에도 각각의 프로필을 따로 관리할 수 있습니다.

**왜 필요한가요?**
각 아동의 검사 결과와 정보를 구분하여 관리하기 위해서입니다. 예를 들어 형제가 둘인 경우, 각각의 검사 결과를 따로 저장하고 확인할 수 있습니다. 또한 아동의 나이에 따라 적절한 검사나 학습 콘텐츠를 제공할 수 있도록 나이 정보를 관리합니다.

**비유로 설명하면:**
학교에서 각 학생마다 개별 파일을 만들어 관리하는 것과 같습니다. 각 아동마다 프로필을 만들어서 그 아동의 검사 결과와 정보를 따로 관리할 수 있습니다.

- [x] **S 1.2.3**: 아동 모드 진입 ✅
    - 비밀번호 없이 프로필 선택으로 검사 진입 ✅
    - 아동 친화적 프로필 선택 UI (큰 아이콘, 캐릭터) ✅
    - 부모 모드 전환 시 간단한 잠금 (숫자 4자리 등) ✅

**💡 비개발자를 위한 설명:**

**뭘 했나요?**
아동이 쉽게 자신의 프로필을 선택하고 검사를 시작할 수 있도록 만든 기능입니다. 아동 모드에서는 비밀번호 없이 프로필만 선택하면 되고, 부모 모드로 돌아갈 때는 간단한 4자리 숫자 PIN을 입력해야 합니다.

**구체적으로:**
- **아동 친화적 프로필 선택**: 아동이 자신의 프로필을 쉽게 찾을 수 있도록 큰 아이콘과 이름을 표시합니다. 프로필을 터치하면 바로 검사를 시작할 수 있습니다.
- **비밀번호 없는 진입**: 아동 모드에서는 복잡한 비밀번호를 입력할 필요 없이, 자신의 프로필만 선택하면 됩니다. 이렇게 하면 아동이 혼자서도 쉽게 검사를 시작할 수 있습니다.
- **부모 모드 잠금**: 아동 모드에서 부모 모드로 돌아갈 때는 4자리 숫자 PIN을 입력해야 합니다. 이렇게 하면 아동이 실수로 부모 모드에 접근하거나 설정을 변경하는 것을 방지할 수 있습니다.

**왜 필요한가요?**
아동이 검사를 할 때는 간단하고 빠르게 시작할 수 있어야 합니다. 복잡한 비밀번호를 입력하는 것은 아동에게 어려울 수 있고, 검사를 시작하는 데 방해가 될 수 있습니다. 하지만 부모 모드에는 아동의 개인정보나 검사 결과 등 중요한 정보가 있기 때문에, 아동이 쉽게 접근할 수 없도록 보호해야 합니다.

**비유로 설명하면:**
아동 모드는 마치 자신의 방 문고리처럼, 누르기만 하면 들어갈 수 있는 것과 같습니다. 하지만 부모 모드는 집의 현관문처럼, 열쇠(PIN)가 있어야 들어갈 수 있는 것과 같습니다. 이렇게 하면 아동은 쉽게 자신의 공간(검사)에 들어갈 수 있지만, 부모의 공간(설정, 결과 확인 등)에는 보호가 됩니다.

- [x] **S 1.2.4**: 데이터 보안 정책 ✅
    - 음성 데이터 접근 권한 관리 ✅
    - 개인정보 암호화 저장 ✅
    - 데이터 보존 기간 정책 적용 ✅

**💡 비개발자를 위한 설명:**

**뭘 했나요?**
아동의 개인정보와 음성 데이터를 안전하게 보호하기 위한 보안 시스템을 만들었습니다. 누구나 접근할 수 없도록 권한을 관리하고, 오래된 데이터는 자동으로 삭제하여 개인정보를 보호합니다.

**구체적으로:**
- **음성 데이터 접근 권한 관리**: 검사 중 녹음된 아동의 음성 파일은 부모나 교사만 접근할 수 있습니다. 다른 사람은 절대 접근할 수 없도록 보호됩니다. 또한 채점이 완료되면 음성 파일은 즉시 삭제되어 더 이상 저장되지 않습니다.
- **개인정보 암호화 저장**: 아동의 이름, 생년월일 등 개인정보는 암호화되어 저장됩니다. 마치 금고에 보관하는 것처럼, 암호화된 정보는 해독하지 않으면 읽을 수 없습니다.
- **데이터 보존 기간 정책**: 검사 결과는 3년간 보관된 후 자동으로 삭제됩니다. 오래된 데이터가 계속 쌓이지 않도록 자동으로 정리하여 개인정보를 보호합니다. 또한 1년 이상 미완료된 검사는 자동으로 삭제됩니다.

**왜 필요한가요?**
아동의 개인정보와 음성 데이터는 매우 민감한 정보입니다. 법적으로도 보호되어야 하며, 부모의 동의 없이는 누구도 접근할 수 없어야 합니다. 또한 오래된 데이터를 계속 보관하면 개인정보 유출 위험이 증가하므로, 일정 기간 후 자동으로 삭제하는 것이 안전합니다.

**비유로 설명하면:**
은행 금고에 보물을 보관하는 것과 같습니다. 금고는 특정한 열쇠(권한)가 있어야만 열 수 있고, 보물은 암호화되어 있어서 열쇠 없이는 내용을 알 수 없습니다. 또한 오래된 보물은 일정 기간 후 자동으로 정리되어 금고가 넘치지 않도록 합니다. 이렇게 하면 아동의 개인정보가 안전하게 보호됩니다.

