# 📦 WP 3.6: 장기 추적 시스템 (Long-term Tracking)

아동의 성장을 장기적으로 추적하고 시각화합니다.

---

## 💡 비개발자를 위한 전체 설명

**뭘 만드나요?**
아이가 몇 달, 몇 년에 걸쳐 얼마나 성장했는지 보여주는 시스템입니다.

**왜 필요한가요?**
- 단기간에 보이지 않는 변화도 장기로 보면 큰 성장
- 부모님이 투자한 시간의 가치를 확인
- 아이에게 동기 부여 (내가 이만큼 성장했어!)

**비유:**
- 키 재는 것처럼 정기적으로 학습 능력 측정
- 키 성장 차트처럼 능력 성장 차트 제공

---

## 📈 시나리오 1: 성장 이력 관리

### S 3.6.1: 검사 이력 타임라인

**📋 기술적 요구사항:**
- 모든 검사/재검사 결과를 시간순 타임라인으로 표시
- 특정 시점 클릭 시 해당 리포트 조회

**💡 비개발자를 위한 설명:**

**어떻게 보이나요?**
```
[타임라인]
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
2025.01 ─┬─ 첫 검사 📋
         │  전체 점수: 45점
         │
2025.02 ─┼─ 미니 테스트 📝
         │  음절 분해: 50점 → 65점
         │
2025.03 ─┼─ 정기 재검사 📋
         │  전체 점수: 58점 (+13점 ↑)
         │
2025.06 ─┴─ 정기 재검사 📋
            전체 점수: 72점 (+14점 ↑)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**기능:**
- 각 이벤트 클릭 → 상세 리포트 조회
- 스크롤하여 전체 이력 확인
- 필터: 검사/미니테스트/학습 이벤트

---

### S 3.6.2: 영역별 성장 그래프

**📋 기술적 요구사항:**
- 5대 영역별 점수 변화를 선 그래프로 시각화
- 기간 필터 (1개월/3개월/6개월/1년)

**💡 비개발자를 위한 설명:**

**어떻게 보이나요?**
```
[성장 그래프]
점수
100 |                    .-*
 80 |              .--*--'
 60 |        .--*-'
 40 |   *--*'
 20 |
  0 +----------------------
    1월  2월  3월  4월  5월

━━ 음운 인식  ━━ 시각 처리  ━━ 작업 기억
```

**기능:**
- 영역별 색상 구분
- 특정 점 터치 → 해당 시점 상세 정보
- 평균선과 비교

---

### S 3.6.3: 학습 활동 로그

**📋 기술적 요구사항:**
- 일별 학습 시간, 완료한 게임, 정답률 기록
- 캘린더 뷰로 학습 패턴 확인

**💡 비개발자를 위한 설명:**

**어떻게 보이나요?**
```
[12월 학습 캘린더]
일  월  화  수  목  금  토
        1   2   3   4   5
       🌟 🌟🌟 🌟  ⭐  -

6   7   8   9  10  11  12
🌟 🌟🌟 🌟 🌟🌟 🌟  ⭐  -

🌟🌟 = 30분 이상
🌟 = 15분 이상
⭐ = 15분 미만
- = 미학습
```

**상세 정보 (날짜 클릭):**
```
[12월 8일 학습 기록]
학습 시간: 25분
완료 게임: 음절 쪼개기 (3회), 리듬 따라하기 (2회)
정답률: 85%
```

---

## 🏆 시나리오 2: 성취 시스템

### S 3.6.4: 배지/업적 시스템

**📋 기술적 요구사항:**
- 특정 목표 달성 시 배지 부여
- 예: "7일 연속 학습", "음절 마스터", "집중력 챔피언"
- 컬렉션 형태로 동기 부여

**💡 비개발자를 위한 설명:**

**배지 예시:**
```
[내 배지 컬렉션]

🔥 연속 학습          🎯 정확도 달인
━━━━━━━━━━━━━━━━     ━━━━━━━━━━━━━━━━
[🏅 3일] [🏅 7일]     [🏅 80%] [🏅 90%]
[⬜ 14일] [⬜ 30일]    [⬜ 95%]

🎮 게임 마스터         📈 성장 왕
━━━━━━━━━━━━━━━━     ━━━━━━━━━━━━━━━━
[🏅 음절] [⬜ 리듬]    [🏅 +10점] [⬜ +20점]
[⬜ 기억] [⬜ 집중]    [⬜ +30점]
```

**획득 조건:**
| 배지 | 조건 |
|------|------|
| 3일 연속 🔥 | 3일 연속 학습 |
| 7일 연속 🔥🔥 | 7일 연속 학습 |
| 정확도 80% 🎯 | 전체 정답률 80% 달성 |
| 음절 마스터 🎮 | 음절 관련 게임 모두 클리어 |

---

### S 3.6.5: 레벨 시스템

**📋 기술적 요구사항:**
- 학습량/성취에 따른 레벨업
- 캐릭터 성장 또는 아이템 해금으로 게임화

**💡 비개발자를 위한 설명:**

**어떻게 보이나요?**
```
[나의 캐릭터]

    🐣 → 🐥 → 🐔 → 🦅
    Lv1   Lv5   Lv10  Lv20

현재: 🐥 Lv.7
경험치: ████████░░ 80/100
다음 레벨까지: 20XP
```

**경험치 획득:**
- 게임 1회 완료: +10 XP
- 미니 테스트 통과: +50 XP
- 연속 학습 보너스: +20 XP

---

## 🔔 시나리오 3: 알림 및 리마인더

### S 3.6.6: 학습 리마인더

**📋 기술적 요구사항:**
- 설정한 시간에 학습 알림 푸시
- "오늘 아직 학습하지 않았어요!"

**💡 비개발자를 위한 설명:**

**어떻게 작동하나요?**
```
[알림 설정]
학습 알림: ON
알림 시간: 오후 5:00
요일: 월 화 수 목 금

[푸시 알림]
🔔 "철수야, 오늘 학습하러 갈까? 🎮"
```

---

### S 3.6.7: 성장 알림

**📋 기술적 요구사항:**
- 의미 있는 성장 발생 시 알림
- "음절 분해 능력이 20% 향상되었어요!"

**💡 비개발자를 위한 설명:**

**알림 예시:**
```
🔔 "축하해요! 🎉"
   음절 분해 능력이 20% 향상되었어요!
   
🔔 "대단해요! 🏆"
   7일 연속 학습 배지를 획득했어요!
   
🔔 "성장 중! 📈"
   이번 달 학습 시간이 지난달보다 30% 늘었어요!
```

---

### S 3.6.8: 재검사 권장 알림

**📋 기술적 요구사항:**
- 일정 학습량 도달 시 재검사 권장
- "한 달간 열심히 했네요! 실력을 확인해볼까요?"

**💡 비개발자를 위한 설명:**

**알림 트리거:**
```
조건:
- 마지막 검사 후 30일 경과
- 학습 세션 20회 이상 완료
- 미니 테스트 평균 80점 이상

알림:
🔔 "철수가 많이 성장한 것 같아요! 📊
   정기 검사로 실력을 확인해볼까요?"
   [검사 시작하기]
```

---

## 🎮 사용 기술

| 시나리오 | 기술 |
|----------|------|
| 타임라인 | Timeline UI 컴포넌트 |
| 성장 그래프 | fl_chart 라이브러리 |
| 캘린더 | TableCalendar 라이브러리 |
| 배지/레벨 | Firestore 저장 + 로컬 캐시 |
| 푸시 알림 | Firebase Cloud Messaging |

---

## 📊 데이터 구조

```dart
// 학습 세션 기록
class LearningSession {
  String childId;
  DateTime date;
  int durationMinutes;
  List<String> completedGames;
  double averageAccuracy;
}

// 성취 기록
class Achievement {
  String badgeId;
  DateTime earnedAt;
  String condition;
}

// 레벨 정보
class LevelInfo {
  int currentLevel;
  int currentXP;
  int xpToNextLevel;
}
```

---

**작성일**: 2025-12-04  
**상태**: 준비 완료

