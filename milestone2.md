# 🚩 마일스톤 2: 학습 콘텐츠 시스템 (음운 인식 중심)

| 항목 | 내용 |
|------|------|
| **목표** | 진단-처방 연계 학습 시스템 구축 및 음성 채점 고도화 |
| **기반 문서** | 문해력_기초검사_PRD_v1.1.md |
| **작성일** | 2025년 11월 26일 |

---

## 📋 워크패키지 목록

| WP | 명칭 | 설명 |
|----|------|------|
| WP 2.1 | 게임 엔진 및 학습 프레임워크 | Flame Engine 도입, 학습 공통 구조 |
| WP 2.2 | 5대 게임 패턴 모듈 | O/X, 이선다지, 짝맞추기, 시퀀싱, Go/No-Go |
| WP 2.3 | 음운 인식 1단계 훈련 | 청각적 주의 및 운율 학습 게임 |
| WP 2.4 | 음운 인식 2단계 훈련 | 단어 및 문장 구조 학습 게임 |
| WP 2.5 | 음운 인식 3단계 훈련 | 음절 조작 학습 게임 |
| WP 2.6 | 학습 관리 시스템 | 일일 제한, 진도, 단계 잠금 해제 |
| WP 2.7 | 음성 채점 고도화 | STT 연동, 반자동 채점 |
| WP 2.8 | 재검사 시스템 | 미니 테스트 및 향상도 측정 |

---

## 📦 WP 2.1: 게임 엔진 및 학습 프레임워크 (Game Framework)

Flame Engine을 도입하고 학습 세션의 공통 구조를 구축합니다.

### 🎮 시나리오 1: 게임 엔진 도입

- **S 2.1.1**: Flame Engine 프로젝트 통합
    - Flutter 프로젝트에 Flame Engine 패키지 추가
    - 게임 루프(Game Loop) 기본 구조 설정
    - 기존 Flutter 위젯과 Flame 게임 화면 간 전환 구조 설계

- **S 2.1.2**: 게임 에셋 관리 시스템
    - 스프라이트 시트, 애니메이션 파일 로딩 구조
    - 오디오 풀(Audio Pool) 관리 (효과음 즉시 재생)
    - 레벨별 에셋 번들링 및 지연 로딩(Lazy Loading)

### 🔄 시나리오 2: 학습 세션 프레임워크

- **S 2.1.3**: 학습 세션 상태 관리
    - 세션 시작/진행/종료 상태 머신(State Machine) 구현
    - 현재 진행 중인 게임, 스테이지, 문제 번호 추적
    - 세션 중단 시 자동 저장 (검사 프레임워크와 동일 패턴)

- **S 2.1.4**: 동적 난이도 조절 엔진
    - 최근 N문제 정답률 기반 난이도 자동 조정
    - 난이도 파라미터: 제한 시간, 보기 개수, 속도
    - Frustration-Free 설계: 연속 오답 시 난이도 하향

- **S 2.1.5**: 인터랙티브 피드백 시스템
    - 정답 시: 축하 애니메이션 + 효과음 + 음성("잘했어!")
    - 오답 시: 부드러운 실패 애니메이션 + 격려 음성("다시 해볼까?")
    - 터치/드래그 시 즉각적 시각 피드백

---

## 📦 WP 2.2: 5대 게임 패턴 모듈 (Game Patterns)

재사용 가능한 게임 템플릿을 모듈화합니다.

### 🎯 시나리오 1: 선택형 패턴

- **S 2.2.1**: O/X 패턴
    - 질문 제시 후 O/X 두 버튼 중 선택
    - 큰 버튼, 명확한 색상 구분 (초록/빨강)
    - 사용처: 소리 같음/다름, 문장 맞음/틀림

- **S 2.2.2**: 이선다지(N지선다) 패턴
    - 2~4개 이미지/텍스트 보기 중 정답 선택
    - 보기 배치: 2개(좌우), 3개(삼각형), 4개(2x2 그리드)
    - 사용처: 그림 찾기, 소리와 그림 매칭

### 🖐️ 시나리오 2: 조작형 패턴

- **S 2.2.3**: 짝 맞추기(Matching) 패턴
    - 두 그룹의 아이템을 드래그하여 연결
    - 또는 카드 뒤집기 형태의 메모리 게임
    - 사용처: 같은 소리 찾기, 음절-그림 매칭

- **S 2.2.4**: 시퀀싱(Sequencing) 패턴
    - 여러 아이템을 올바른 순서로 배열
    - 드래그 앤 드롭 또는 순차 터치
    - 사용처: 소리 순서 맞추기, 음절 순서 배열

### ⚡ 시나리오 3: 반응형 패턴

- **S 2.2.5**: Go/No-Go 패턴
    - 연속으로 등장하는 자극에 선택적 반응
    - 타이밍 정밀 측정 (ms 단위)
    - 사용처: 특정 소리/그림에만 반응하기 훈련

- **S 2.2.6**: 리듬 탭(Rhythm Tap) 패턴
    - 제시된 리듬에 맞춰 화면 탭
    - 타이밍 오차 허용 범위 설정
    - 사용처: 음절 박자 맞추기, 리듬 따라하기

---

## 📦 WP 2.3: 음운 인식 1단계 훈련 (Listening & Prosody)

청각적 주의와 운율 감각을 훈련합니다.

### 🔍 시나리오 1: 소리 탐정 게임

- **S 2.3.1**: 같은 소리 찾기
    - 3개의 소리 중 2개가 같음 → 같은 것 2개 터치
    - 게임 패턴: 이선다지 변형
    - 난이도: 악기 → 동물 → 환경음 (유사도 증가)

- **S 2.3.2**: 다른 소리 찾기
    - 3개 소리 중 1개만 다름 → 다른 것 터치
    - 난이도: 명확한 차이 → 미세한 차이

### 🥁 시나리오 2: 리듬 놀이

- **S 2.3.3**: 리듬 따라 치기
    - 캐릭터가 북을 치는 패턴 제시 → 따라서 탭
    - 게임 패턴: 리듬 탭
    - 난이도: 2박 → 3박 → 4박 → 변박

- **S 2.3.4**: 빠르기 구별하기
    - 두 음악 중 "더 빠른 것" 또는 "더 느린 것" 선택
    - 게임 패턴: O/X 또는 이선다지

### 🎭 시나리오 3: 말의 느낌

- **S 2.3.5**: 억양 구별하기
    - 같은 문장의 평서문/의문문 구별
    - "밥 먹었어." vs "밥 먹었어?" → 표정 아이콘 선택
    - 게임 패턴: 이선다지

- **S 2.3.6**: 감정 찾기
    - 음성의 감정(기쁨/슬픔/화남) 구별
    - 해당 감정 캐릭터 얼굴 터치

---

## 📦 WP 2.4: 음운 인식 2단계 훈련 (Word & Sentence Structure)

단어와 문장의 구조를 인식하는 훈련입니다.

### 🔢 시나리오 1: 단어 세기

- **S 2.4.1**: 문장 속 단어 수 세기
    - 문장 재생 후 "몇 단어?" → 숫자 선택
    - 시각적 힌트: 단어마다 캐릭터가 점프
    - 난이도: 2단어 → 3단어 → 4단어 → 5단어

- **S 2.4.2**: 단어 경계 찾기
    - 붙여서 말한 문장에서 단어 구분점 터치
    - "사과바나나포도" → 경계선 그리기/터치

### 🎵 시나리오 2: 운율 찾기

- **S 2.4.3**: 두운(첫소리) 찾기
    - 3개 단어 중 같은 소리로 시작하는 2개 찾기
    - 예: 사과-사탕-바나나 → 사과, 사탕 선택
    - 게임 패턴: 짝 맞추기

- **S 2.4.4**: 각운(끝소리) 찾기
    - 같은 소리로 끝나는 단어 찾기
    - 예: 고양이-강아지-토끼 → 고양이, 강아지
    - 게임 패턴: 짝 맞추기

### 🔗 시나리오 3: 단어 이어가기

- **S 2.4.5**: 끝말잇기 연습
    - 제시된 단어의 끝 음절로 시작하는 그림 찾기
    - 예: "사과" → "과자" 그림 선택
    - 게임 패턴: 이선다지

---

## 📦 WP 2.5: 음운 인식 3단계 훈련 (Syllable Manipulation)

음절을 쪼개고, 합치고, 조작하는 훈련입니다.

### ✂️ 시나리오 1: 음절 분해

- **S 2.5.1**: 박수로 음절 쪼개기
    - 단어 재생 → 음절 수만큼 탭
    - 예: "코끼리" → 탭탭탭 (3회)
    - 게임 패턴: 리듬 탭

- **S 2.5.2**: 음절 블록 쪼개기
    - 단어가 적힌 블록을 음절 단위로 드래그하여 분리
    - 시각적으로 음절 경계 학습

### 🧩 시나리오 2: 음절 합성

- **S 2.5.3**: 음절 블록 합치기
    - 분리된 음절 블록("나" + "비")을 합쳐서 단어 만들기
    - 완성된 단어에 해당하는 그림과 매칭
    - 게임 패턴: 드래그 + 이선다지

- **S 2.5.4**: 소리 듣고 합치기
    - "나...비" 천천히 재생 → 합친 단어 그림 선택
    - 난이도: 2음절 → 3음절 → 4음절

### 🔀 시나리오 3: 음절 조작

- **S 2.5.5**: 음절 탈락
    - "사과에서 '과'를 빼면?" → 정답 그림 선택
    - 처음/중간/끝 음절 탈락 연습

- **S 2.5.6**: 음절 뒤집기
    - "나비를 거꾸로 하면?" → "비나" 선택
    - 게임 패턴: 이선다지 또는 블록 재배열

- **S 2.5.7**: 음절 대치
    - "'바나나'의 '바'를 '사'로 바꾸면?" → "사나나"
    - 블록 교체 애니메이션으로 시각화

---

## 📦 WP 2.6: 학습 관리 시스템 (Learning Management)

일일 학습 제한, 진도 관리, 맞춤형 추천 시스템입니다.

### ⏱️ 시나리오 1: 일일 학습 제한

- **S 2.6.1**: 15분 타이머 시스템
    - 학습 시작 시 세션 타이머 가동
    - 남은 시간 시각적 표시 (원형 프로그레스 등)
    - 5분/1분 남았을 때 부드러운 알림

- **S 2.6.2**: 학습 종료 처리
    - 15분 도달 시 "오늘은 여기까지! 내일 또 만나" 화면
    - 현재 진행 상황 자동 저장
    - 부모 설정으로 시간 조정 가능 (10분~30분)

### 🗺️ 시나리오 2: 진도 관리

- **S 2.6.3**: 단계별 잠금 해제
    - 1단계 학습 완료(일정 점수 이상) 시 2단계 잠금 해제
    - 잠긴 단계는 자물쇠 아이콘 + "조금만 더 연습하면 열려요"
    - 해제 시 축하 애니메이션

- **S 2.6.4**: 학습 진도 맵
    - 각 단계를 지도/여정 형태로 시각화
    - 현재 위치, 완료한 스테이지, 다음 목표 표시
    - 캐릭터가 여행하는 스토리텔링

### 🔁 시나리오 3: 반복 학습

- **S 2.6.5**: 오답 문제 재출제
    - 틀린 문제는 변형(다른 보기, 다른 순서)하여 다시 출제
    - 3회 연속 정답 시 해당 문제 완전 학습으로 처리

- **S 2.6.6**: 복습 세션 자동 생성
    - 일정 기간 후 이전 학습 내용 복습 문제 제공
    - 에빙하우스 망각 곡선 기반 복습 주기

### 🎯 시나리오 4: 맞춤형 추천

- **S 2.6.7**: 검사 결과 연동 추천
    - 마일스톤 1 검사에서 🟡/🔴 영역의 학습 콘텐츠 우선 추천
    - "음절 쪼개기가 약해요 → [음절 블록 쪼개기] 게임 추천!"

- **S 2.6.8**: 오늘의 학습 자동 구성
    - 약점 영역 + 복습 + 새 내용을 조합한 15분 세션 자동 생성

---

## 📦 WP 2.7: 음성 채점 고도화 (Advanced Voice Scoring)

STT 연동을 통한 반자동 채점 시스템입니다.

### 🎙️ 시나리오 1: STT 연동

- **S 2.7.1**: Speech-to-Text API 연동
    - Google Cloud Speech / Naver Clova Speech 연동
    - 아동 음성 특화 모델 설정 (높은 피치, 불명확 발음 허용)

- **S 2.7.2**: 실시간 음성 인식
    - 녹음과 동시에 STT 변환 시도
    - 인식 결과를 채점 힌트로 활용

### ⚡ 시나리오 2: 반자동 채점

- **S 2.7.3**: STT 결과 기반 자동 판정
    - STT 결과와 정답 비교 → 일치 시 자동 O
    - 신뢰도 낮은 경우 "수동 확인 필요" 표시

- **S 2.7.4**: 채점자 확인 간소화
    - STT 결과 미리보기 제공
    - 채점자는 O/X만 빠르게 확정
    - 채점 시간 대폭 단축

### 🗣️ 시나리오 3: 발음 피드백 (선택적)

- **S 2.7.5**: 발음 정확도 점수
    - 특정 음소의 발음 정확도 측정
    - 학습 콘텐츠에서 발음 연습 시 즉각 피드백

---

## 📦 WP 2.8: 재검사 시스템 (Re-test / Mini Assessment)

학습 효과를 측정하는 미니 테스트 시스템입니다.

### 📝 시나리오 1: 미니 테스트

- **S 2.8.1**: 학습 영역별 미니 테스트 생성
    - 각 단계 학습 완료 후 5~10문항 짧은 테스트
    - 본 검사와 동일한 형식, 축소된 분량

- **S 2.8.2**: 미니 테스트 결과 산출
    - 해당 영역 점수만 재계산
    - 이전 검사 결과와 비교 (향상도 표시)

### 📈 시나리오 2: 향상도 시각화

- **S 2.8.3**: Before/After 비교
    - 막대 그래프로 이전 점수 vs 현재 점수 비교
    - 향상된 점수는 초록색 상승 화살표로 강조

- **S 2.8.4**: 성장 리포트 생성
    - "3주간 음절 분해 능력이 30% 향상되었어요!"
    - 부모/교사용 짧은 성장 리포트

### 🏆 시나리오 3: 단계 승급 판정

- **S 2.8.5**: 다음 단계 진입 조건
    - 미니 테스트 점수가 기준(예: 80%) 이상 시 다음 단계 해제
    - 미달 시 추가 학습 권장 + 재도전 기회

---

## 📊 마일스톤 2 요약

| 구분 | 워크패키지 수 | 시나리오 수 |
|------|--------------|------------|
| 기반 구축 | 2 (WP 2.1~2.2) | 11 |
| 학습 콘텐츠 | 3 (WP 2.3~2.5) | 16 |
| 관리/고도화 | 3 (WP 2.6~2.8) | 16 |
| **합계** | **8** | **43** |

---

## 🔗 연관 문서

- **선행**: 마일스톤1.md (기초 검사 시스템)
- **후행**: 마일스톤3.md (전 영역 확장 및 장기 추적)

